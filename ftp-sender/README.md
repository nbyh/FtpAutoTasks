# FTP自动发送工具

一个基于PyQt5的FTP文件自动发送工具，支持多任务配置、文件监控和自动发送。

## 主要功能

### 1. FTP任务管理
- 支持多个FTP任务的配置和管理
- 支持立即发送和定时发送两种模式
- 任务状态实时监控和显示
- 任务配置导入导出功能

### 2. 文件监控
- 自动监控指定目录的文件变化
- 支持多种文件类型过滤
- 支持延迟发送配置
- 文件传输进度显示

### 3. 安全性
- 密码加密存储
- 网络状态监控
- 异常捕获和日志记录
- 自动重试机制

### 4. 用户界面
- 任务列表显示和管理
- 传输进度实时显示
- 系统托盘支持
- 发送日志查看

## 项目结构

```
ftp-sender
├── src
│   ├── main.py                # 程序入口点，启动应用程序并初始化 UI 和任务管理
│   ├── ui
│   │   ├── main_window.py      # 主窗口 UI，显示任务列表和发送记录
│   │   ├── config_dialog.py    # 配置对话框 UI，允许用户配置 FTP 任务
│   │   ├── log_dialog.py       # 日志查询对话框 UI，显示发送记录和统计信息
│   │   └── styles
│   │       └── style.qss      # UI 样式表，美化应用程序外观
│   ├── core
│   │   ├── ftp_task.py         # 定义 FTP 任务逻辑，包括执行和状态管理
│   │   ├── file_monitor.py      # 实现文件监控功能，监控本地目录中的文件变化
│   │   ├── task_manager.py      # 管理所有 FTP 任务的生命周期，包括启动、停止和重试机制
│   │   └── encryption.py        # 实现密码加密和解密功能，确保配置文件中的密码安全
│   ├── models
│   │   ├── task.py             # 定义 FTP 任务模型，包含任务的属性和方法
│   │   └── log.py              # 定义日志记录模型，包含发送记录的属性和方法
│   ├── utils
│   │   ├── config.py           # 处理配置文件的读取和写入，管理任务配置
│   │   ├── logger.py           # 实现日志记录功能，记录发送过程中的信息和错误
│   │   └── constants.py        # 定义常量，用于在项目中共享的配置和状态
│   └── config
│       └── tasks.json          # 存储 FTP 任务的配置，包括任务名称、状态、FTP 地址等信息
├── logs                         # 存储日志文件，按照年月建立子目录
├── requirements.txt             # 列出项目所需的 Python 库和依赖项
├── README.md                    # 项目文档和使用说明
└── settings.ini                 # 存储应用程序的设置和配置选项
```

## 使用说明

1. 配置 FTP 任务：运行应用程序后，使用配置对话框添加和配置 FTP 任务。
2. 启动任务监控：在主窗口中，点击“全部开始”按钮以启动启用的任务监控。
3. 查看发送记录：使用日志查询对话框查看发送记录和统计信息。
4. 退出程序：点击退出按钮，确认退出以停止所有任务。

## 依赖项

请确保安装 `requirements.txt` 中列出的所有依赖项，以确保程序正常运行。